<!DOCTYPE html>
<html lang="de">
<%- include('../partials/head') %>
<body>
  <%- include('../partials/header') %>
  <div class="container" style="margin-top:40px; text-align:left;">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
      <h1 class="h2">Transaktionen verwalten</h1>
      <a href="/admin/transactions/new" class="nav-link">Neue Transaktion</a>
    </div>
    <ul style="list-style:none; padding:0;">
      <% transactions.forEach(tx => { %>
        <li style="display:flex; justify-content:space-between; align-items:center; margin-bottom:8px;">
          <div>
            <strong><%= tx.date %></strong> – <%= tx.vorname %> –
            <%= tx.type === 'debt' ? 'Schuld' : 'Tilgung' %>:
            <%= tx.amount.toFixed(2) %> €
          </div>
          <div style="display:flex; gap:8px;">
            <a href="/admin/transactions/<%= tx.id %>/edit" class="nav-link">Bearbeiten</a>
            <form action="/admin/transactions/<%= tx.id %>/delete" method="post" style="display:inline;">
              <button type="submit" onclick="return confirm('Wirklich löschen?')" class="nav-link nav-logout" style="border:none;">
                Löschen
              </button>
            </form>
          </div>
        </li>
      <% }) %>
    </ul>
    <a href="/admin/logout" class="btn-back nav-logout" style="width:100%;">Logout</a>
  </div>
</body>
</html>
